<!DOCTYPE html>
<html>
<head>
    <title>Toiduained</title>

    <style>
        th {
            text-align: left;
        }
    </style>

</head>

<body>
<h2>Loetelu</h2>
<div>
    <table id="foodList"></table>
</div>

<h2>Lisa toiduaine</h2>
<label>Nimetus</label><br>
<input id="nimetus" type="text"><br>
<label>Valgud</label><br>
<input id="valgud" type="number"><br>
<label>Rasvad</label><br>
<input id="rasvad" type="number"><br>
<label>Susivesikud</label><br>
<input id="susivesikud" type="number"><br>

<input type="button" value="lisa" onclick="addNewFood()">

<h2>Kustuta</h2>
<label>ID</label><br>
<input id="deleteFoodByID" type="text">
<input type="button" value="kustuta" onclick="deleteFood()">


<script>
    var connection = new XMLHttpRequest();
    connection.onreadystatechange = foodData;

    function displayAllFood() {
        connection.open("GET", "/listall", true);
        connection.send();
    }
    displayAllFood();

    function addNewFood() {
        var nimetus = document.getElementById("nimetus").value;
        var valgud = document.getElementById("valgud").value;
		var rasvad = document.getElementById("rasvad").value;
		var susivesikud = document.getElementById("susivesikud").value;
        connection.open("GET", "/lisa?nimetus=" + nimetus + "&valgud=" +
            valgud + "&rasvad=" + rasvad + "&susivesikud=" + susivesikud, true);
        connection.send();
    }

    function deleteFood() {
        var deleteFood = document.getElementById("deleteFoodByID").value;
        connection.open("GET", "/kustuta?id=" + deleteFood, true);
        connection.send();
    }

    function foodData() {
        document.getElementById("foodList").innerHTML = connection.responseText;
    }

</script>
</body>


</html>